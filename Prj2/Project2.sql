/**
COVER PAGE
i)Project Name - Qdoba database management system,ISMG6080 Database management system,Fall2017
ii)Group Members - Yash Nigam,Sandeep Mangal
iii)Oracle Ids
Yash - ORA45PRJ
Sandeep - ORA47PRJ
**/

CREATE TABLE BILL (
 BillID             VARCHAR2(10),
 BillDate           Date,
 Amount             Number,
 Coupon             VARCHAR2(20),
 CONSTRAINT bill_BillID_pk PRIMARY KEY (BillID));
INSERT INTO Bill VALUES('B10','12-Jan-2017',10,'ADB567NBH7');
INSERT INTO Bill VALUES ('B11','12-JUN-2017',8,NULL);
INSERT INTO Bill VALUES ('B12','13-JUN-2017',7,NULL);
INSERT INTO Bill VALUES ('B13','14-JUN-2017',10,'ADB567NBH8');
INSERT INTO Bill VALUES ('B14','14-JUN-2017',5,NULL);
INSERT INTO Bill VALUES ('B15','02-JUL-2017',8,NULL);
INSERT INTO Bill VALUES ('B16','20-AUG-2017',9,'ADB027TBH8');
INSERT INTO Bill VALUES ('B17','30-SEP-2017',11,NULL);
INSERT INTO Bill VALUES ('B18','02-OCT-2017',22,NULL);
INSERT INTO Bill VALUES ('B19','07-OCT-2017',14,'ADB568IBH7');
INSERT INTO Bill VALUES ('B20','14-NOV-2017',12,'ADT567XBZ5');
INSERT INTO Bill VALUES ('B21','17-NOV-2017',10,NULL);
INSERT INTO Bill VALUES ('B22','25-NOV-2017',9,'ADZ507NBH5');

CREATE TABLE Employee (
 EmployeeID   varchar2(10),
 LName        varchar2(20),
 Fname        varchar2(20),
 Gender       varchar2(10),
 DOB          date,
 Startdate    date,
 hourlyrate   number,
 Designation  varchar2(20),
 Address      varchar2(20),
 Phoneno      varchar2(10),
 Supervisior  varchar2(20),
 Shift        varchar2(10),
 constraint employee_employeeid_pk primary key(employeeid));
insert into employee values ('E101','Mitchell','John','M','15-OCT-1988','01-JAN-2015',10,'Front Crew','xyz street Denver','3334447865','Adam Darby','11 to 4');
insert into employee values ('E108','Mangal','Sandeep','M','21-Mar-1991','29-Nov-2016',11,'Back Crew','xyz street Denver','1222344323','Adam Darby','9 to 6');
insert into employee values ('E110','Nigam','Yash','M','22-May-1990','29-Nov-2016',12.00,'Finance','xyz street Denver','2134547867','Adam Darby','9 to 6');
insert into employee values ('E207','Bullock','Mary','F','01-Dec-1990','22-Dec-2012',12.00,'Supervisior','ytr Street Denver','1234568769','Adam Darby','12 to 6');
insert into employee values ('E210','Hustler','Shawn','M','12-May-1991','29-Nov-2016',10.00,'HR','xyz street Denver','3334447567','Adam Darby','9 to 6');
insert into employee values ('E453','Darby','Adam','M','22-Mar-1989','29-Nov-2016',15.00,'Manager','kjy street Denver','1237657650','Adam Darby','9 to 6');

CREATE TABLE InventorySupply (
 MaterialID  varchar2(10),
 MaterialName varchar2(20),
 Quantityonhand varchar2(20),
 constraint inventorysupply_materialid_pk primary key(materialid));
insert into INVENTORYSUPPLY values ('M123','Tortilla','4 boxes');
insert into INVENTORYSUPPLY values ('M221','Avocado','12 boxes'); 
insert into INVENTORYSUPPLY values ('M234','Cheese','4 boxes');
insert into INVENTORYSUPPLY values ('M237','Tomato','12 boxes');
insert into INVENTORYSUPPLY values ('M345','Lettuce','8 boxes');
insert into INVENTORYSUPPLY values ('M779','Onion','4 boxes');
insert into INVENTORYSUPPLY values ('M804','Cilantro','2 boxes');

CREATE TABLE ITEM (
 ItemID  varchar2(10),
 ItemName varchar2(20),
 AddOns   varchar2(20),
 Price    number,
 constraint item_itemid_pk primary key(itemid));
insert into item values ('I10','Nachos','Chicken',8);
insert into item values ('I11','Queso','Pork',6); 
insert into item values ('I12','Burrito','Brisket',7); 
insert into item values ('I13','Bowl','Steak',8); 
insert into item values ('I14','Loaded Tortilla Soup','Fajitas',10); 
insert into item values ('I15','Quesdia','Chicken',10); 
insert into item values ('I16','Corn Salsa','Fountain Drink',11); 
insert into item values ('I17','Pico','Chicken',10); 

CREATE TABLE PURCHASE	(
PURCHASEID			VARCHAR2 (10) NOT NULL,
DATEOFORDER		DATE,
EMPLOYEEID			VARCHAR2 (10),
CONSTRAINT PURCHASE_PURCHASEID_PK PRIMARY KEY (PURCHASEID),
CONSTRAINT PURCHASE_EMPLOYEEID_FK FOREIGN KEY (EMPLOYEEID) REFERENCES EMPLOYEE (EMPLOYEEID));
INSERT INTO PURCHASE VALUES ('P01','12-JUN-2017','E101');
INSERT INTO PURCHASE VALUES ('P02','13-JUN-2017','E108');
INSERT INTO PURCHASE VALUES ('P03','14-JUN-2017','E110');
INSERT INTO PURCHASE VALUES ('P04','28-JUN-2017','E207');
INSERT INTO PURCHASE VALUES ('P05','02-NOV-2017','E210');
INSERT INTO PURCHASE VALUES ('P06','22-NOV-2017','E453');
INSERT INTO PURCHASE VALUES ('P07','25-NOV-2017','E108');

CREATE TABLE ORDERTAB	(
ORDERID			VARCHAR2 (10) NOT NULL,
AMOUNT			NUMBER (4),
ORDERDATE			DATE,
EMPLOYEEID			VARCHAR2 (10),
BILLID				VARCHAR2 (10),
CONSTRAINT ORDERTAB_ORDERID_PK PRIMARY KEY (ORDERID),
CONSTRAINT ORDERTAB_EMPLOYEEID_FK FOREIGN KEY (EMPLOYEEID) REFERENCES EMPLOYEE (EMPLOYEEID),
CONSTRAINT ORDERTAB_BILLID_FK FOREIGN KEY (BILLID) REFERENCES BILL (BILLID));
INSERT INTO ORDERTAB VALUES ('A100',10.00,'12-JUN-2017','E101','B10');
INSERT INTO ORDERTAB VALUES ('A101',8.00,'12-JUN-2017','E108','B11');
INSERT INTO ORDERTAB VALUES ('A102',7.00,'13-JUN-2017','E110','B12');
INSERT INTO ORDERTAB VALUES ('A103',10.00,'14-JUN-2017','E207','B13');
INSERT INTO ORDERTAB VALUES ('A104',5.00,'14-JUN-2017','E210','B14');
INSERT INTO ORDERTAB VALUES ('A105',9.00,'19-OCT-2017','E453','B15');
INSERT INTO ORDERTAB VALUES ('A106',11.00,'22-NOV-2017','E101','B16');
INSERT INTO ORDERTAB VALUES ('A107',10.00,'25-NOV-2017','E207','B17');

CREATE TABLE ORDERDETAILS	(
ORDERID			VARCHAR2 (10) NOT NULL,
ITEMID			VARCHAR2 (4) NOT NULL,
QUANTITY			NUMBER (10),
PRICE				NUMBER (10),
CONSTRAINT ORDERDETAILS_ORDERID_ITEMID_PK PRIMARY KEY (ORDERID, ITEMID),
CONSTRAINT ORDERDETAILS_ORDERID_FK FOREIGN KEY (ORDERID) REFERENCES ORDERTAB (ORDERID),
CONSTRAINT ORDERDETAILS_ITEMID_FK FOREIGN KEY (ITEMID) REFERENCES ITEM (ITEMID));
INSERT INTO ORDERDETAILS VALUES ('A100','I10',1.00,10.00);
INSERT INTO ORDERDETAILS VALUES ('A101','I11',1.00,8.00);
INSERT INTO ORDERDETAILS VALUES ('A102','I10',2.00,55.00);
INSERT INTO ORDERDETAILS VALUES ('A102','I12',1.00,7.00);
INSERT INTO ORDERDETAILS VALUES ('A103','I11',3.00,56.00);
INSERT INTO ORDERDETAILS VALUES ('A103','I13',1.00,10.00);
INSERT INTO ORDERDETAILS VALUES ('A104','I12',4.00,10.00);
INSERT INTO ORDERDETAILS VALUES ('A104','I14',2.00,15.00);
INSERT INTO ORDERDETAILS VALUES ('A105','I13',4.00,15.00);
INSERT INTO ORDERDETAILS VALUES ('A105','I15',2.00,9.00);
INSERT INTO ORDERDETAILS VALUES ('A106','I14',4.00,45.00);
INSERT INTO ORDERDETAILS VALUES ('A106','I16',1.00,11.00);
INSERT INTO ORDERDETAILS VALUES ('A107','I17',2.00,10.00);


CREATE TABLE PURCHASEDET (
PURCHASEID			VARCHAR2 (10) NOT NULL,
MATERIALID			VARCHAR2 (10) NOT NULL,
QUANTITY			NUMBER (10),
PRICE				NUMBER (10),
CONSTRAINT PURCHASEDET_IDs_PK PRIMARY KEY (PURCHASEID,MATERIALID),
CONSTRAINT PURCHASEDET_PURCHASEID_FK FOREIGN KEY (PURCHASEID) REFERENCES PURCHASE (PURCHASEID),
CONSTRAINT PURCHASEDET_MATERIALID_FK FOREIGN KEY (MATERIALID) REFERENCES INVENTORYSUPPLY (MATERIALID));
 
INSERT INTO PURCHASEDET VALUES ('P01','M123',3,90.00);
INSERT INTO PURCHASEDET VALUES ('P01','M237',3,129.00);
INSERT INTO PURCHASEDET VALUES ('P02','M221',2,100.00);
INSERT INTO PURCHASEDET VALUES ('P02','M345',2,130.00);
INSERT INTO PURCHASEDET VALUES ('P03','M234',2,34.00);
INSERT INTO PURCHASEDET VALUES ('P03','M779',2,210.00);
INSERT INTO PURCHASEDET VALUES ('P04','M123',3,400.00);
INSERT INTO PURCHASEDET VALUES ('P04','M237',3,110.00);
INSERT INTO PURCHASEDET VALUES ('P05','M221',2,410.00);
INSERT INTO PURCHASEDET VALUES ('P05','M345',3,210.00);
INSERT INTO PURCHASEDET VALUES ('P06','M234',5,298.00);
INSERT INTO PURCHASEDET VALUES ('P06','M779',3,220.00);
INSERT INTO PURCHASEDET VALUES ('P07','M804',3,120.00);